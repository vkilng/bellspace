extends layout

block styles
    link(rel="stylesheet", href="/stylesheets/quill.snow.css")

block page-banner
    svg(xmlns="http://www.w3.org/2000/svg", width="24", height="24", viewBox="0 0 24 24", fill="none", stroke="#000000", stroke-width="2", stroke-linecap="round", stroke-linejoin="round")
        path(d="M5.52 19c.64-2.2 1.84-3 3.22-3h6.52c1.38 0 2.58.8 3.22 3")
        circle(cx="12", cy="10", r="3")
        circle(cx="12", cy="12", r="10")
    div u/#{currentUser.username}

block main-content
    form.p-10.grid.auto-rows-min.h-full.overflow-y-auto(method="post")
        div.text-xl.font-semibold.mb-5 Create Post
        input(type="text", name="post-title", placeholder="Title", class="input input-bordered w-full mb-5 rounded-none focus:outline-none", required)
        input(type="hidden", name="post-content")
        div#post-editor
        button.btn.btn-wide.btn-accent.text-white.normal-case.rounded-full.justify-self-end.mt-5(type="submit") Post
        script(src="/javascripts/quill.min.js")
        script.
            var quill = new Quill('#post-editor', {
                theme: 'snow',   // Specify theme in configuration
                placeholder: 'Text (optional)',
                modules: {
                    toolbar: [
                        [{ 'size': ['small', false, 'large', 'huge'] }],
                        ['bold', 'italic', 'underline', 'strike'],
                        ['blockquote', 'code-block'],
                        [{ 'script': 'sub'}, { 'script': 'super' }],
                        [{ 'list': 'ordered'}, { 'list': 'bullet' }],
                        ['link', 'image'],
                        ['clean']
                    ]
                },
            });
            quill.on('text-change',() => {
                const inputElement = document.querySelector('input[name="post-content"]');
                inputElement.value = quill.root.innerHTML;
            })

